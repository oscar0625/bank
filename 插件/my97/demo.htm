<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<input class="Wdate" type="text" id="d1" readonly />
<input class="Wdate" type="text" id="d2" />
<input class="Wdate" type="text" id="d3" readonly />
</body>
<script language="javascript" type="text/javascript" src="My97DatePicker/WdatePicker.js"></script>
<script>
    /**
     *
     * 0. api http://www.my97.net/dp/demo/index.htm
    * 1.以上My97DatePicker文件整体保留
    * 2.WdatePicker 是js 配置
    * 3.My97DatePicker->skin->default->datepicker.css可以修改日历控件样式；
    * 4.My97DatePicker->skin->WdatePicker.css是针对 class=input"Wdate" 的样式  可以删掉自己写
    * 5.el 默认是事件调用者 this
    * 6.每次修改时间完成 会将焦点重新回归于input
    *
    **/
    document.querySelector('#d2').onfocus=function () {
        var my97=new WdatePicker({
            el:this,
            minDate:new Date(),
//            dateFmt:'yyyy-MM-dd',          1993-06-25
//            dateFmt:'yyyyMMdd',            19930625
//            dateFmt:'yyyy-MM-dd HH:mm:ss', 19930625 23:55:00
            dateFmt:'yyyy-MM'
//            dateFmt:'yyyy年MM月',
        })
    };

    /*监听my97时间值变化*/
    //way1
    document.querySelector('#d1').onfocus=function () {
        var my97=new WdatePicker({
            el:this,
            minDate:new Date()
        })
    };
    //change只能用dom1事件 jq都有问题
    document.querySelector('#d1').onchange=function () {
       console.log(this.value)
    };

    //way2
    document.querySelector('#d3').onclick=function () {
        var my97=new WdatePicker({
            el:this,
            minDate:new Date()
        })
    };
    document.querySelector('#d3').onfocus=function () {
        console.log(this.value)
    }
</script>
</html>